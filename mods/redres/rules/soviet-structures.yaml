## CustomBuildTimeValue: (Cost / 1000) * 0.7 * BuildTimeMultipier * 60 * 40

nacnst:
	Inherits: gacnst
	Transforms:
		IntoActor: smcv
		Offset: 1,1
		Facing: 96
	-WithIdleOverlay@fans:
	WithIdleOverlay@top:
		Sequence: idle-top
	WithIdleOverlay@normal:
		Sequence: idle-normal
	-ProvidesPrerequisite@allies:
	ProvidesPrerequisite@soviets:
		Prerequisite: structures.soviets

napowr:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~structures.soviets
	Selectable:
		Bounds: 126, 94, 2, -16
	Valued:
		Cost: 600
	CustomBuildTimeValue:
		Value: 810
	Tooltip:
		Name: Tesla Reactor
		Description: Provides power for other structures.
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 1875
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithIdleOverlay@lights:
		Sequence: idle-lights
	Power:
		Amount: 125
	ScalePowerWithHealth:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	InfiltrateForPowerOutage:
	AffectedByPowerOutage:
	WithBuildingExplosion:
		Sequences: building, large_bang, large_brnl, verylarge_clsn, large_tumu, tesla_explosion
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav

narefn:
	Inherits: garefn
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: ~structures.soviets
	Building:
		Footprint: xxx= xxx= xxx=
		Dimensions: 4,3
	FreeActor:
		Actor: harv
		SpawnOffset: 4, 1
		Facing: 160

nahand:
	Inherits: gapile
	Buildable:
		Queue: Building
		BuildPaletteOrder: 30
		Prerequisites: ~structures.soviets
	ProvidesPrerequisite:
		Prerequisite: barracks
	-ProvidesPrerequisite@allies:
	ProvidesPrerequisite@soviet:
		Prerequisite: barracks.nod
		Factions: nod
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 94, 168, 0, -58
	Exit@1:
		SpawnOffset: -280,280,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 410,140,0
		ExitCell: 2,0
	RallyPoint:
		Offset: 2,1
		Palette: mouse
		IsPlayerPalette: false

naweap:
	Inherits: gaweap
	Buildable:
		Queue: Building
		BuildPaletteOrder: 50
		Prerequisites: narefn, ~structures.soviets
	-ProvidesPrerequisite@allies:
	ProvidesPrerequisite@soviets:
		Prerequisite: factory.nod
		Factions: nod
	-WithIdleOverlay@flag:
	-WithIdleOverlay@fan:
	-WithProductionDoorOverlay@ramp:
	WithIdleOverlay@lights:
		Sequence: idle-lights
	WithProductionDoorOverlay@door:
		Sequence: build-door

nayard:
	Inherits: gayard
	Buildable:
		Queue: Building
		BuildPaletteOrder: 60
		Prerequisites: narefn, ~structures.soviets
	WithIdleOverlay@crane:
		Sequence: idle-crane
	WithIdleOverlay@waves:
		Sequence: idle-waves
	WithRepairOverlay:
		Sequence: repair
	WithProductionOverlay@lights:
		Sequence: production-lights

naradr:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 40
		Prerequisites: nahand, ~structures.soviets
	Valued:
		Cost: 1000
	CustomBuildTimeValue:
		Value: 1575
	Tooltip:
		Name: Operations Tower
		Description: Unlocks additional technology.
	ProvidesPrerequisite@default:
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 95, 120, 0, -35
	Health:
		HP: 1750
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnLowPower: true
	Power:
		Amount: -50

naairf:
	Inherits: gaairf
	Buildable:
		Queue: Building
		BuildPaletteOrder: 50
		Prerequisites: naweap, ~structures.soviets
	Tooltip:
		Name: Air Strategy Center
		Description: Supports 4 aircraft.
	-ProvidesPrerequisite@allies:
	ProvidesPrerequisite@soviets:
		Prerequisite: aircraft.soviets
	ProvidesPrerequisite@default:
	-WithIdleOverlay@dish:

nacrane:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 60
		Prerequisites: naweap, naradr, ~structures.soviets
		BuildLimit: 2
	Selectable:
		Bounds: 96, 64, -2, -24
	Valued:
		Cost: 1500
	CustomBuildTimeValue:
		Value: 2363
	Tooltip:
		Name: Outpost
		Description: Repairs vehicles and removes Terror Drones.
	ProvidesPrerequisite@default:
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		Adjacent: 25
	Health:
		HP: 2250
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 5c0
	UpgradeActorsNear:
		Upgrades: crane-repair
		Range: 3c768
	WithIdleOverlay@hook:
		Sequence: idle-hook
	WithIdleOverlay@repairring:
		Sequence: idle-ring
		Palette: alpha
	Power:
		Amount: -15

nanrct:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 70
		Prerequisites: naradr, ~structures.soviets
	Valued:
		Cost: 1000
	CustomBuildTimeValue:
		Value: 1575
	Tooltip:
		Name: Nuclear Reactor
		Description: Provides power for other structures.
	ProvidesPrerequisite:
		Prerequisite: power
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxxx xxxx xxxx _xx_
		Dimensions: 4,4
	Selectable:
		Bounds: 167, 130, 9, -31
	Health:
		HP: 2500
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c0
	WithIdleOverlay@lights:
		Sequence: idle-lights
	Power:
		Amount: 1500
	ScalePowerWithHealth:
	Explodes:
		Weapon: NukeReactorDeath
		EmptyWeapon: NukeReactorDeath
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav

natek:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 60
		Prerequisites: naweap, naradr, ~structures.soviets
	Valued:
		Cost: 1500
	CustomBuildTimeValue:
		Value: 2700
	Tooltip:
		Name: Tech Center
		Description: Unlocks additional technology.
	ProvidesPrerequisite@default:
	Building:
		Footprint: xx xx xx
		Dimensions: 3,2
	Selectable:
		Bounds: 122, 216, 0, -81
	Health:
		HP: 2000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	Power:
		Amount: -100

natech:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 80
		Prerequisites: naweap, natek, ~structures.soviets
	Valued:
		Cost: 3000
	CustomBuildTimeValue:
		Value: 4725
	Tooltip:
		Name: War Palace
		Description: Allows deployment of advanced units.
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Selectable:
		Bounds: 152, 164, 0, -50
	Health:
		HP: 2500
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	Power:
		Amount: -200
	InfiltrateForSupportPower:
		Proxy: soviets.tech.infiltrated
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate

naclon:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 90
		Prerequisites: natech, ~structures.soviets
		BuildLimit: 1
	Valued:
		Cost: 2000
	CustomBuildTimeValue:
		Value: 2250
	Tooltip:
		Name: Cloning Vats
		Description: Clones most trained infantry.
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	Selectable:
		Bounds: 108, 134, 0, -48
	Health:
		HP: 1550
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: -150
	Exit@1:
		SpawnOffset: -280,280,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 410,140,0
		ExitCell: 2,0
	Production:
		Produces: Infantry
	RallyPoint:
		Offset: 2,2
		Palette: mouse
		IsPlayerPalette: false
	ClonesProducedUnits:
		CloneableTypes: infantry

nairon:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 60
		Prerequisites: natek, ~structures.soviets
		BuildLimit: 1
	Valued:
		Cost: 2500
	CustomBuildTimeValue:
		Value: 3375
	Tooltip:
		Name: Iron Curtain
		Description: Grants invulnerability to armored units in a 3x3 area.
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3, 3
	Selectable:
		Bounds: 136, 100, 0, -20
	Health:
		HP: 2125
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: -200
	GrantUpgradePower@IRONCURTAIN:
		Icon: invuln
		ChargeTime: 300
		Description: Invulnerability
		LongDesc: Makes a group of units invulnerable\nfor 20 seconds.
		Duration: 1250
		SelectTargetSound:
		InsufficientPowerSound:
		BeginChargeSound:
		EndChargeSound:
		GrantUpgradeSound: siroon.wav
		DisplayRadarPing: true
		DisplayTimer: true
		Range: 1
		Upgrades: invulnerability
		Cursor: iron-curtain
	SupportPowerChargeBar:

nawall:
	Inherits: gawall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 10
		Prerequisites: ~structures.soviets
	Tooltip:
		Name: Fortress Wall
		Description: Blocks movement and most projectiles.

naflak:
	Inherits: ^VoxelLighting
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 30
		Prerequisites: barracks, ~structures.soviets
	Valued:
		Cost: 800
	CustomBuildTimeValue:
		Value: 1260
	Tooltip:
		Name: Flak Cannon
		Description: Automated anti-aircraft defense.
	Building:
		Footprint: x
		Dimensions: 1, 1
		Adjacent: 4
	Health:
		HP: 2250
	Armor:
		Type: Steel
	Armor@t2:
		Type: T2Def
	RevealsShroud:
		Range: 10c0
	Selectable:
		Bounds: 46, 62, 0, -20
	Turreted:
		ROT: 10
		InitialFacing: 224
		Offset: 450,0,0
	AttackTurreted:
		Voice: Attack
	Armament:
		Weapon: FlakWeapon
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
	WithVoxelTurret:
	WithRangeCircle:
		Range: 8c0
		Type: flakcannon
	AutoTarget:
	Power:
		Amount: -50

tesla:
	Inherits: ^Building
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 50
		Prerequisites: natek, ~structures.soviets
	Valued:
		Cost: 1500
	CustomBuildTimeValue:
		Value: 2363
	Tooltip:
		Name: Tesla Coil
		Description: Advanced base defense.\n Strong vs Infantry, Vehicles
	Building:
		Footprint: x
		Dimensions: 1, 1
		Adjacent: 4
	Health:
		HP: 1500
	Armor:
		Type: Steel
	Armor@t2:
		Type: T2Def
	RevealsShroud:
		Range: 8c0
	Selectable:
		Bounds: 44, 88, 0, -33
	WithChargeAnimation:
	Armament@primary:
		Weapon: CoilBolt
		LocalOffset: 0,0,2200
		UpgradeTypes: charged
		UpgradeMaxEnabledLevel: 2
		UpgradeMaxAcceptedLevel: 3
	Armament@charged:
		Weapon: OPCoilBolt
		LocalOffset: 0,0,2200
		UpgradeTypes: charged
		UpgradeMinEnabledLevel: 3
		UpgradeMaxAcceptedLevel: 3
	AttackCharge:
		Voice: Attack
		Armaments: primary, charged
		MaxCharges: 3
		ReloadTime: 120
		ChargeAudio: tslachg2.aud
	AutoTarget:
	RequiresPower:
	WithRangeCircle:
		Range: 8c0
		Type: teslacoil
	Power:
		Amount: -100
	WithIdleOverlay@powered:
		Sequence: idle-powered
		PauseOnLowPower: true

napsis:
	Inherits: ^Building
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 40
		Prerequisites: natek, ~structures.soviets
	Valued:
		Cost: 1000
	CustomBuildTimeValue:
		Value: 1575
	Tooltip:
		Name: Psychic Sensor
		Description: Detects enemy attack patterns.
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 82, 150, 0, -55
	Health:
		HP: 2500
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 10c0
	RenderDetectionCircle:
	DetectCloaked:
		Range: 10c0
	WithIdleOverlay@spin:
		Sequence: idle-spin
		PauseOnLowPower: true
	Power:
		Amount: -50

